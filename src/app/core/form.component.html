<form
    [formGroup]="productForm"
    #form="ngForm"
    (ngSubmit)="submitForm()"
    (reset)="resetForm()"
>
    <div class="form-group">
        <label>Name</label>
        <input class="form-control" formControlName="name" />
        <ul class="text-danger list-unstyled mt-1">
            <li
                *validationErrors="
                    productForm;
                    control: 'name';
                    label: 'Наименование';
                    let err
                "
            >
                {{ err }}
            </li>
        </ul>
        <!-- <ul
            class="text-danger list-unstyled mt-1"
            *ngIf="name.dirty && name.invalid"
        >
            <li *ngFor="let err of name.errors | validationFormat : 'Имя'">
                {{ err }}
            </li>
        </ul> -->
    </div>
    <div class="form-group">
        <label>Category</label>
        <input class="form-control" formControlName="category" />
        <ul class="text-danger list-unstyled mt-1">
            <li
                *validationErrors="
                    productForm;
                    control: 'category';
                    label: 'Категория';
                    let err
                "
            >
                {{ err }}
            </li>
        </ul>
    </div>

    <div class="form-group">
        <label>Price</label>
        <input class="form-control" formControlName="price" />
        <ul class="text-danger list-unstyled mt-1">
            <li
                *validationErrors="
                    productForm;
                    control: 'price';
                    label: 'Цена';
                    let err
                "
            >
                {{ err }}
            </li>
        </ul>
    </div>

    <ng-container formGroupName="details">
        <div class="form-group">
            <label>Supplier</label>
            <input class="form-control" formControlName="supplier" />
            <ul class="text-danger list-unstyled mt-1">
                <li
                    *validationErrors="
                        productForm;
                        control: 'details.supplier';
                        label: 'Поставщик';
                        let err
                    "
                >
                    {{ err }}
                </li>
            </ul>
        </div>
        <div class="form-group">
            <label>Keywords</label>
            <input class="form-control" formControlName="keywords" />
            <ul class="text-danger list-unstyled mt-1">
                <li
                    *validationErrors="
                        productForm;
                        control: 'details.keywords';
                        label: 'ключевые слова';
                        let err
                    "
                >
                    {{ err }}
                </li>
            </ul>
        </div>
    </ng-container>

    <div class="mt-2">
        <button
            type="submit"
            class="btn btn-primary"
            [class.btn-warning]="editing"
            [disabled]="form.invalid"
        >
            {{ editing ? "Save" : "Create" }}
        </button>
        <button type="reset" class="btn btn-secondary m-1">Cancel</button>
    </div>
</form>

<!-- <form #form="ngForm" (ngSubmit)="submitForm(form)" (reset)="form.resetForm()">
    <div class="form-group">
        <label>Name</label>
        <input
            class="form-control"
            name="name"
            [(ngModel)]="product.name"
            required
        />
    </div>
    <div class="form-group">
        <label>Category</label>
        <input
            class="form-control"
            name="category"
            [(ngModel)]="product.category"
            required
        />
    </div>
    <div class="form-group">
        <label>Price</label>
        <input
            class="form-control"
            name="price"
            [(ngModel)]="product.price"
            required
            pattern="^[0-9\.]+$"
        />
    </div>

    <div class="mt-2">
        <button
            type="submit"
            class="btn btn-primary"
            [class.btn-warning]="editing"
            [disabled]="form.invalid"
        >
            {{ editing ? "Save" : "Create" }}
        </button>
        <button type="reset" class="btn btn-secondary m-1">Cancel</button>
    </div>
</form> -->
